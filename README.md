# Luckfox Pico V4L2 æ‘„åƒå¤´é«˜æ€§èƒ½é‡‡é›†ä¸ç½‘ç»œæ¨æµç³»ç»Ÿ v2.0.0

ä¸€ä¸ªä¸“ä¸º **L## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ç½‘ç»œæ¨æµ     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Luckfox Pico  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   PC å®¢æˆ·ç«¯      â”‚
â”‚                 â”‚   TCP:8888    â”‚                 â”‚
â”‚ â€¢ v4l2_usb      â”‚               â”‚ â€¢ v4l2_usb_pc   â”‚
â”‚ â€¢ SC3336 æ‘„åƒå¤´ â”‚               â”‚ â€¢ å¸§æ•°æ®ä¿å­˜     â”‚
â”‚ â€¢ 172.32.0.93   â”‚               â”‚ â€¢ å®æ—¶æ˜¾ç¤º       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. é¢„ç¼–è¯‘ç‰ˆæœ¬ (æ¨è) âš¡

**ä¸‹è½½å³ç”¨å‘å¸ƒåŒ…**:
- ğŸ“¥ [PC ç«¯å¤šå¹³å°åŒ…](source_all_platform/v4l2_usb_pc_v2.0.0_all_platforms.zip) - Windows/Linux/macOS
- ğŸ“¥ [åµŒå…¥å¼ ARM åŒ…](source_linux_armv7l/v4l2_usb_embedded_v2.0.0_luckfox_pico_armv7l.tar.gz) - Luckfox Pico

**PC ç«¯ä½¿ç”¨**:
```bash
# è§£å‹å¯¹åº”å¹³å°åŒ…
tar -xf v4l2_usb_pc_v2.0.0_linux_x86_64.tar.gz    # Linux
# æˆ– unzip v4l2_usb_pc_v2.0.0_windows_x86_64.zip  # Windows

# è¿è¡Œå®¢æˆ·ç«¯
cd linux_x86_64 && ./run.sh                       # Linux/macOS
# æˆ– cd windows_x86_64 && run.bat                  # Windows
```

**åµŒå…¥å¼ç«¯éƒ¨ç½²**:
```bash
# ä¼ è¾“åˆ°è®¾å¤‡
scp v4l2_usb_embedded_v2.0.0_luckfox_pico_armv7l.tar.gz root@172.32.0.93:~/
ssh root@172.32.0.93
tar -xf v4l2_usb_embedded_v2.0.0_luckfox_pico_armv7l.tar.gz
cd luckfox_pico_armv7l

# ä¸€é”®å¯åŠ¨
./run_v4l2_usb.sh
```

### 3. è‡ªå®šä¹‰ç¼–è¯‘ ğŸ”¨i B + SC3336 RAW10 æ‘„åƒå¤´** è®¾è®¡çš„é«˜æ€§èƒ½è§†é¢‘é‡‡é›†ä¸ç½‘ç»œæ¨æµç³»ç»Ÿï¼Œæ”¯æŒ 2304Ã—1296 åˆ†è¾¨ç‡å®æ—¶é‡‡é›†ï¼Œå¹¶é€šè¿‡ç½‘ç»œæ¨æµè‡³ PC ç«¯è¿›è¡Œå¤„ç†ã€‚

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

- **ğŸ¥ é«˜åˆ†è¾¨ç‡æ”¯æŒ**: 2304Ã—1296 RAW10 æ ¼å¼ï¼Œä¸“ä¸šçº§å›¾åƒè´¨é‡
- **âš¡ é«˜æ€§èƒ½ä¼ è¾“**: åŸºäºå¤šå¹³é¢ V4L2 APIï¼Œä¼˜åŒ–å†…å­˜å¯¹é½ä¸ç¼“å†²åŒºç®¡ç†
- **ğŸŒ å…¨å¹³å°å…¼å®¹**: Linux x86_64ã€Windows x86_64ã€macOS ARM64ã€ARM Linux
- **ğŸš€ è‡ªåŠ¨åŒ–æ„å»º**: ä¸€é”®ç¼–è¯‘ã€æ‰“åŒ…ã€å‘å¸ƒæ‰€æœ‰å¹³å°
- **ğŸ“¦ æ¨¡å—åŒ–æ¶æ„**: ä»£ç åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- **ğŸ”§ å³å¼€å³ç”¨**: é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¼€ç®±å³ç”¨
- **ğŸŒ ç½‘ç»œæ¨æµ**: TCP å®æ—¶æ¨æµï¼Œæ”¯æŒå¤šå®¢æˆ·ç«¯è¿æ¥
- **ğŸ’¾ é›¶ä¸´æ—¶æ–‡ä»¶**: çº¯å†…å­˜ä¼ è¾“ï¼Œé¿å…å­˜å‚¨ç©ºé—´é™åˆ¶
- **âœ¨ ä¼˜é›…é€€å‡º**: å®Œå–„çš„ä¿¡å·å¤„ç†ï¼Œæ”¯æŒ Ctrl+C æ­£å¸¸é€€å‡º

## ğŸ“ é¡¹ç›®ç»“æ„

```
v4l2_bench/
â”œâ”€â”€ ğŸ“¦ source_all_platform/           # ğŸ–¥ï¸ PC ç«¯è·¨å¹³å°ä»£ç  (v2.0.0)
â”‚   â”œâ”€â”€ v4l2_usb_pc.h                 # ğŸ”— æ¨¡å—åŒ–å¤´æ–‡ä»¶å®šä¹‰
â”‚   â”œâ”€â”€ v4l2_usb_pc_core.c            # âš™ï¸ æ ¸å¿ƒåŠŸèƒ½å®ç°
â”‚   â”œâ”€â”€ v4l2_usb_pc_main.c            # ğŸš€ ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ CMakeLists.txt                # ğŸ”¨ CMake æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ build_all_platforms.sh        # ğŸŒ ä¸€é”®æ„å»ºæ‰€æœ‰å¹³å°
â”‚   â”œâ”€â”€ create_release.sh             # ğŸ“¦ è‡ªåŠ¨æ‰“åŒ…å‘å¸ƒè„šæœ¬
â”‚   â”œâ”€â”€ verify_unpacked.py            # ï¿½ 16-bit è§£åŒ…éªŒè¯å·¥å…·
â”‚   â””â”€â”€ README.md                     # ï¿½ PC ç«¯è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ”§ source_linux_armv7l/           # ğŸ¯ åµŒå…¥å¼ ARM å¹³å°æºç 
â”‚   â”œâ”€â”€ v4l2_usb.c                    # ğŸ”¥ ç½‘ç»œæ¨æµæœåŠ¡å™¨ (åµŒå…¥å¼ç«¯)
â”‚   â”œâ”€â”€ v4l2_bench.c                  # ğŸ“Š å•å¹³é¢åŸºå‡†æµ‹è¯•
â”‚   â”œâ”€â”€ v4l2_bench_mp.c               # ğŸ“ˆ å¤šå¹³é¢æ ¼å¼åŸºå‡†æµ‹è¯•  
â”‚   â”œâ”€â”€ test_multiplanar.c            # ğŸ§ª å¤šå¹³é¢ API éªŒè¯ç¨‹åº
â”‚   â”œâ”€â”€ CMakeLists.txt                # ğŸ”¨ ARM æ„å»ºé…ç½®
â”‚   â””â”€â”€ create_release.sh             # ğŸ“¦ åµŒå…¥å¼ç«¯å‘å¸ƒè„šæœ¬
â”œâ”€â”€ ğŸ¨ source_python_gui/             # ğŸ–¼ï¸ Python GUI å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ main.py                       # ğŸ–¥ï¸ PySide6 GUI ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ test_client.py                # ğŸ§ª C åº“æ¥å£æµ‹è¯•ç¨‹åº
â”‚   â”œâ”€â”€ requirements.txt              # ğŸ“‹ Python ä¾èµ–åˆ—è¡¨
â”‚   â””â”€â”€ libv4l2_usb_pc.dll           # ğŸ”— åŠ¨æ€åº“ (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ build.sh                          # ï¿½ ä¼ ç»Ÿæ„å»ºè„šæœ¬ (å…¼å®¹)
â”œâ”€â”€ .gitignore                        # ï¿½ Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ .clang-format                     # ğŸ¨ ä»£ç æ ¼å¼åŒ–é…ç½®
â””â”€â”€ README.md                         # ğŸ“– æœ¬æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ç½‘ç»œæ¨æµ     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Luckfox Pico  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   PC å®¢æˆ·ç«¯              â”‚
â”‚                 â”‚   TCP:8888    â”‚                         â”‚
â”‚ â€¢ v4l2_usb      â”‚               â”‚ â€¢ v4l2_usb_pc (å‘½ä»¤è¡Œ)   â”‚
â”‚ â€¢ SC3336 æ‘„åƒå¤´ â”‚               â”‚ â€¢ Python GUI (å›¾å½¢ç•Œé¢)  â”‚
â”‚ â€¢ 172.32.0.93   â”‚               â”‚ â€¢ 16-bit RAW å›¾åƒæ˜¾ç¤º    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ä¸‰ç§ä½¿ç”¨æ–¹å¼

#### ğŸ¨ æ–¹å¼1: Python GUI (æ¨èæ–°ç”¨æˆ·)
```bash
cd source_python_gui

# å®‰è£… Python ä¾èµ–
pip install -r requirements.txt

# æ„å»º C åŠ¨æ€åº“
cd ../source_all_platform
mkdir -p build && cd build
cmake -DBUILD_SHARED_LIBS=ON .. && make
cp libv4l2_usb_pc.so ../source_python_gui/  # Linux
# æˆ– cp libv4l2_usb_pc.dll ../source_python_gui/  # Windows

# å¯åŠ¨ GUI
cd ../../source_python_gui
python main.py
```

#### âš¡ æ–¹å¼2: é¢„ç¼–è¯‘ç‰ˆæœ¬ (å³å¼€å³ç”¨)
```bash
# ä¸‹è½½å‘å¸ƒåŒ…
# ï¿½ [PC ç«¯å¤šå¹³å°åŒ…](source_all_platform/v4l2_usb_pc_v2.0.0_all_platforms.zip)
# ğŸ“¥ [åµŒå…¥å¼ ARM åŒ…](source_linux_armv7l/v4l2_usb_embedded_v2.0.0_luckfox_pico_armv7l.tar.gz)

# PC ç«¯ä½¿ç”¨
tar -xf v4l2_usb_pc_v2.0.0_linux_x86_64.tar.gz    # Linux
cd linux_x86_64 && ./run.sh                       # å¯åŠ¨

# åµŒå…¥å¼ç«¯éƒ¨ç½²
scp v4l2_usb_embedded_v2.0.0_luckfox_pico_armv7l.tar.gz root@172.32.0.93:~/
ssh root@172.32.0.93
tar -xf v4l2_usb_embedded_v2.0.0_luckfox_pico_armv7l.tar.gz
cd luckfox_pico_armv7l && ./run_v4l2_usb.sh
```

#### ğŸ”¨ æ–¹å¼3: è‡ªå®šä¹‰ç¼–è¯‘ (å¼€å‘è€…)

**PC ç«¯ç¼–è¯‘**:
```bash
cd source_all_platform

# æ„å»ºå‘½ä»¤è¡Œç‰ˆæœ¬
mkdir -p build && cd build
cmake .. && make

# æ„å»ºåŠ¨æ€åº“ (ç»™ Python GUI ä½¿ç”¨)
mkdir -p build_shared && cd build_shared
cmake -DBUILD_SHARED_LIBS=ON .. && make

# ç”Ÿæˆå‘å¸ƒåŒ…
cd .. && ./create_release.sh
```

**åµŒå…¥å¼ç«¯ç¼–è¯‘**:

```bash
cd source_linux_armv7l

# æ–¹å¼1: ä½¿ç”¨ CMake (æ¨è)
mkdir -p build && cd build
cmake ..
make

# æ–¹å¼2: ä½¿ç”¨ä¼ ç»Ÿè„šæœ¬ (å…¼å®¹)
cd ../.. && ./build.sh

# ç”ŸæˆåµŒå…¥å¼å‘å¸ƒåŒ…
cd source_linux_armv7l
./create_release.sh

# ç¼–è¯‘ç»“æœ:
# build/v4l2_usb          - ğŸ”¥ ç½‘ç»œæ¨æµæœåŠ¡å™¨
# build/v4l2_bench        - ğŸ“Š å•å¹³é¢åŸºå‡†æµ‹è¯•
# build/v4l2_bench_mp     - ğŸ“ˆ å¤šå¹³é¢åŸºå‡†æµ‹è¯•ç¨‹åº
# build/test_multiplanar  - ğŸ§ª å¤šå¹³é¢éªŒè¯ç¨‹åº
```

### 4. ç½‘ç»œé…ç½®

#### ğŸ“¤ éƒ¨ç½²åˆ° Luckfox Pico (å¦‚æœè‡ªè¡Œç¼–è¯‘)

```bash
# ä¸Šä¼ ç¨‹åºåˆ°è®¾å¤‡  
scp source_linux_armv7l/build/v4l2_usb root@172.32.0.93:/root/
scp source_linux_armv7l/build/v4l2_bench_mp root@172.32.0.93:/root/
```

#### ğŸ¬ å¯åŠ¨ç³»ç»Ÿ

**æ­¥éª¤1: åœ¨ Luckfox Pico ä¸Šå¯åŠ¨æœåŠ¡å™¨**
```bash
# SSH ç™»å½•åˆ° Luckfox Pico
ssh root@172.32.0.93

# å¯é€‰: å…ˆæµ‹è¯•æ‘„åƒå¤´å·¥ä½œçŠ¶æ€
./v4l2_bench_mp

# å¯åŠ¨ç½‘ç»œæ¨æµæœåŠ¡å™¨
./v4l2_usb
# æˆ–æŒ‡å®šç«¯å£: ./v4l2_usb 8888
```

**æ­¥éª¤2: åœ¨ PC ä¸Šå¯åŠ¨å®¢æˆ·ç«¯**

ä½¿ç”¨é¢„ç¼–è¯‘ç‰ˆæœ¬ (æ¨è):
```bash
# Linux/macOS
cd release_v2.0.0/linux_x86_64    # æˆ– macos_arm64  
./run.sh -s 172.32.0.93 -c

# Windows
cd release_v2.0.0/windows_x86_64
run.bat -s 172.32.0.93 -c
```

ä½¿ç”¨è‡ªç¼–è¯‘ç‰ˆæœ¬:
```bash
# Linux
cd source_all_platform/build_native
./v4l2_usb_pc -s 172.32.0.93 -p 8888 -o ./saved_frames -c

# Windows  
cd source_all_platform/build_windows_x86_64
./v4l2_usb_pc.exe -s 172.32.0.93 -p 8888 -o ./saved_frames -c
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| å‚æ•° | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **åˆ†è¾¨ç‡** | 2304Ã—1296 | SC3336 æ‘„åƒå¤´æœ€å¤§åˆ†è¾¨ç‡ |
| **æ ¼å¼** | RAW10 (SBGGR10) | 10ä½åŸå§‹æ‹œè€³æ ¼å¼ |
| **å¸§ç‡** | ~30 FPS | å®é™…å¸§ç‡å–å†³äºç½‘ç»œå¸¦å®½ |
| **æ•°æ®é‡** | ~6.0MB/å¸§ | 2304Ã—1296Ã—10bit/8 + å¯¹é½ |
| **ç½‘ç»œå¸¦å®½** | ~120MB/s | å»ºè®®åƒå…†ä»¥å¤ªç½‘ |
| **å†…å­˜å ç”¨** | <50MB | 3ä¸ªç¼“å†²åŒº + ç½‘ç»œç¼“å­˜ |

## ğŸ› ï¸ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: å›¾å½¢ç•Œé¢å®æ—¶æŸ¥çœ‹ (Python GUI)
```bash
# å¯åŠ¨ Python GUI
cd source_python_gui
python main.py

# GUI åŠŸèƒ½:
# â€¢ 16-bit RAW å›¾åƒå®æ—¶æ˜¾ç¤º (ç±»ä¼¼ ImageJ)
# â€¢ è‡ªåŠ¨å¯¹æ¯”åº¦è°ƒæ•´ (1%-99% åˆ†ä½æ•°æ‹‰ä¼¸)
# â€¢ ç°åº¦/ä¼ªå½©è‰²æ¨¡å¼åˆ‡æ¢
# â€¢ å›¾åƒç»Ÿè®¡ä¿¡æ¯æ˜¾ç¤º (Min/Max/Mean/Std)
# â€¢ ä¿å­˜æ¨¡å¼é€‰æ‹© (ä»…å†…å­˜/ä¿å­˜åˆ°æ–‡ä»¶)
# â€¢ å®æ—¶å¸§ç‡å’Œè¿æ¥çŠ¶æ€ç›‘æ§
```

### åœºæ™¯2: å‘½ä»¤è¡Œæ‰¹é‡å¤„ç†
```bash
# å‘½ä»¤è¡Œç‰ˆæœ¬ - é€‚åˆè„šæœ¬è‡ªåŠ¨åŒ–
./v4l2_usb_pc -s 172.32.0.93 -o ./saved_frames -c -i 5
# -c: å¯ç”¨ SBGGR10 åˆ° 16-bit è½¬æ¢
# -i 5: æ¯ 5 å¸§ä¿å­˜ä¸€æ¬¡
```

### åœºæ™¯3: è‡ªå®šä¹‰ç½‘ç»œé…ç½®
```bash
# å¦‚æœ Luckfox Pico ä½¿ç”¨ä¸åŒ IP
# GUI æ–¹å¼: åœ¨ç•Œé¢ä¸­ä¿®æ”¹æœåŠ¡å™¨ IP
# å‘½ä»¤è¡Œæ–¹å¼:
./v4l2_usb_pc -s 192.168.1.100 -p 8888 -c
```

### åœºæ™¯4: å¤šå®¢æˆ·ç«¯åŒæ—¶æ¥æ”¶
```bash
# å¯åŒæ—¶å¯åŠ¨å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥åŒä¸€æœåŠ¡å™¨
# æ–¹å¼1: å¤šä¸ª GUI å®ä¾‹
python main.py &  # GUI å®¢æˆ·ç«¯1
python main.py &  # GUI å®¢æˆ·ç«¯2

# æ–¹å¼2: GUI + å‘½ä»¤è¡Œæ··åˆ
python main.py &                           # GUI å®æ—¶æŸ¥çœ‹
./v4l2_usb_pc -o ./batch_save -c -i 10 &  # åå°æ‰¹é‡ä¿å­˜
```

### åœºæ™¯5: å›¾åƒè´¨é‡åˆ†æ
```bash
# ä½¿ç”¨éªŒè¯å·¥å…·æ£€æŸ¥ 16-bit è½¬æ¢è´¨é‡
cd source_all_platform
python verify_unpacked.py [16bit_file.raw]

# GUI ä¸­æŸ¥çœ‹å®æ—¶ç»Ÿè®¡:
# â€¢ åƒç´ å€¼èŒƒå›´ (Min/Max)
# â€¢ å›¾åƒäº®åº¦ (Mean)
# â€¢ å¯¹æ¯”åº¦ (Std)
```

### åœºæ™¯6: æ€§èƒ½åŸºå‡†æµ‹è¯•
```bash
# åµŒå…¥å¼ç«¯æ€§èƒ½åŸºå‡†æµ‹è¯•
cd luckfox_pico_armv7l && ./run_benchmark.sh

# å¤šå¹³é¢ API æµ‹è¯•
./run_multiplanar_test.sh
```

## ğŸ”§ å‘½ä»¤è¡Œå‚æ•°

### v4l2_usb (æœåŠ¡å™¨ç«¯)
```bash
./v4l2_usb [port]
```
- `port`: ç›‘å¬ç«¯å£ (é»˜è®¤: 8888)

### v4l2_usb_pc (å‘½ä»¤è¡Œå®¢æˆ·ç«¯)
```bash
./v4l2_usb_pc [-s server_ip] [-p port] [-S save_path] [-c] [-i interval] [-h]
```
- `-s server_ip`: æœåŠ¡å™¨IPåœ°å€ (é»˜è®¤: 172.32.0.93)
- `-p port`: æœåŠ¡å™¨ç«¯å£ (é»˜è®¤: 8888)
- `-S save_path`: å¸§æ•°æ®ä¿å­˜ç›®å½• (é»˜è®¤: ä»…å†…å­˜æ¨¡å¼)
- `-c, --convert`: å¯ç”¨ SBGGR10 åˆ° 16-bit è½¬æ¢
- `-i interval`: ä¿å­˜é—´éš”ï¼Œæ¯Nå¸§ä¿å­˜ä¸€æ¬¡ (é»˜è®¤: 1)
- `-h, --help`: æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

### Python GUI (å›¾å½¢ç•Œé¢å®¢æˆ·ç«¯)
```bash
cd source_python_gui
python main.py
```
**GUI åŠŸèƒ½ç‰¹æ€§**:
- ğŸ–¼ï¸ **å®æ—¶å›¾åƒæ˜¾ç¤º**: 16-bit RAW å›¾åƒï¼Œç±»ä¼¼ ImageJ ä½“éªŒ
- ğŸ“Š **å›¾åƒåˆ†æ**: è‡ªåŠ¨å¯¹æ¯”åº¦ã€ç»Ÿè®¡ä¿¡æ¯ (Min/Max/Mean/Std)
- ğŸ¨ **æ˜¾ç¤ºæ¨¡å¼**: ç°åº¦/ä¼ªå½©è‰²åˆ‡æ¢
- ğŸ’¾ **ä¿å­˜æ§åˆ¶**: ä»…å†…å­˜æ¨¡å¼ / æ–‡ä»¶ä¿å­˜æ¨¡å¼
- ğŸ“ˆ **æ€§èƒ½ç›‘æ§**: å®æ—¶å¸§ç‡ã€è¿æ¥çŠ¶æ€ã€ä¼ è¾“é€Ÿåº¦
- âš™ï¸ **å‚æ•°é…ç½®**: æœåŠ¡å™¨ IP/ç«¯å£ã€ä¿å­˜è·¯å¾„è®¾ç½®

**GUI æ“ä½œæ–¹å¼**:
1. åœ¨ç•Œé¢ä¸­è®¾ç½®æœåŠ¡å™¨ IP å’Œç«¯å£
2. é€‰æ‹©ä¿å­˜æ¨¡å¼ (ä»…å†…å­˜ æˆ– æŒ‡å®šä¿å­˜è·¯å¾„)
3. ç‚¹å‡»"å¼€å§‹æ¥æ”¶"è¿æ¥æœåŠ¡å™¨
4. å®æ—¶æŸ¥çœ‹ 16-bit RAW å›¾åƒå’Œç»Ÿè®¡ä¿¡æ¯
5. ä½¿ç”¨"åœæ­¢æ¥æ”¶"æ–­å¼€è¿æ¥

## ğŸ å‘å¸ƒåŒ…è¯´æ˜

### PC ç«¯å‘å¸ƒåŒ…ç»“æ„
```
v4l2_usb_pc_v2.0.0_all_platforms/
â”œâ”€â”€ linux_x86_64/               # Linux x86_64 ç‰ˆæœ¬
â”‚   â”œâ”€â”€ bin/v4l2_usb_pc         # å¯æ‰§è¡Œæ–‡ä»¶
â”‚   â”œâ”€â”€ lib/                    # ä¾èµ–åº“
â”‚   â””â”€â”€ run.sh                  # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ windows_x86_64/             # Windows x86_64 ç‰ˆæœ¬  
â”‚   â”œâ”€â”€ bin/v4l2_usb_pc.exe     # å¯æ‰§è¡Œæ–‡ä»¶
â”‚   â”œâ”€â”€ lib/                    # ä¾èµ–åº“
â”‚   â””â”€â”€ run.bat                 # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ macos_arm64/                # macOS ARM64 ç‰ˆæœ¬
â”‚   â”œâ”€â”€ bin/v4l2_usb_pc         # å¯æ‰§è¡Œæ–‡ä»¶
â”‚   â”œâ”€â”€ lib/                    # ä¾èµ–åº“
â”‚   â””â”€â”€ run.sh                  # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ README.md                   # è¯¦ç»†è¯´æ˜
â””â”€â”€ USAGE.txt                   # å¿«é€Ÿå…¥é—¨
```

### åµŒå…¥å¼å‘å¸ƒåŒ…ç»“æ„
```
luckfox_pico_armv7l/
â”œâ”€â”€ bin/                        # ARM å¯æ‰§è¡Œæ–‡ä»¶
â”‚   â”œâ”€â”€ v4l2_usb               # ğŸ”¥ ä¸»æœåŠ¡å™¨
â”‚   â”œâ”€â”€ v4l2_bench             # ğŸ“Š æ€§èƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ v4l2_bench_mp          # ğŸ“ˆ å¤šå¹³é¢æµ‹è¯•  
â”‚   â””â”€â”€ test_multiplanar       # ğŸ§ª API éªŒè¯
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ device.conf            # è®¾å¤‡é…ç½®
â”‚   â””â”€â”€ network.conf           # ç½‘ç»œé…ç½®
â”œâ”€â”€ scripts/                    # ç³»ç»Ÿè„šæœ¬
â”‚   â”œâ”€â”€ install.sh             # è‡ªåŠ¨å®‰è£…
â”‚   â””â”€â”€ uninstall.sh           # è‡ªåŠ¨å¸è½½
â”œâ”€â”€ run_v4l2_usb.sh            # ğŸš€ ä¸»ç¨‹åºå¯åŠ¨
â”œâ”€â”€ run_benchmark.sh           # ğŸ“Š æ€§èƒ½æµ‹è¯•å¯åŠ¨
â”œâ”€â”€ run_multiplanar_test.sh    # ğŸ§ª API æµ‹è¯•å¯åŠ¨
â””â”€â”€ *.c                        # æºä»£ç  (ä¾¿äºå®šåˆ¶)
```

## â“ å¸¸è§é—®é¢˜

### Q1: Python GUI å¯åŠ¨å¤±è´¥
**åŸå› **: Python ä¾èµ–æœªå®‰è£…æˆ– C åŠ¨æ€åº“ç¼ºå¤±
**è§£å†³**:
```bash
# å®‰è£… Python ä¾èµ–
cd source_python_gui
pip install -r requirements.txt

# æ„å»º C åŠ¨æ€åº“
cd ../source_all_platform
mkdir -p build && cd build
cmake -DBUILD_SHARED_LIBS=ON .. && make

# å¤åˆ¶åŠ¨æ€åº“åˆ° GUI ç›®å½•
cp libv4l2_usb_pc.so ../source_python_gui/    # Linux
# æˆ– cp libv4l2_usb_pc.dll ../source_python_gui/  # Windows
```

### Q2: GUI æ˜¾ç¤ºé»‘å±æˆ–æ¨¡æ‹Ÿå›¾åƒ
**åŸå› **: C åº“æœªæ­£ç¡®è·å–åˆ°å®é™…å›¾åƒæ•°æ®
**è§£å†³**:
1. ç¡®è®¤åµŒå…¥å¼ç«¯æ­£åœ¨æ¨æµ: æ£€æŸ¥æœåŠ¡å™¨è¾“å‡º
2. æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€: GUI ä¸­æŸ¥çœ‹è¿æ¥çŠ¶æ€
3. ç¡®è®¤ SBGGR10 è½¬æ¢å·²å¯ç”¨: C åº“ä¼šè‡ªåŠ¨è½¬æ¢ä¸º 16-bit
4. é‡å¯ GUI ç¨‹åºé‡æ–°è¿æ¥

### Q3: 16-bit å›¾åƒæ˜¾ç¤ºå¼‚å¸¸
**åŸå› **: å›¾åƒæ•°æ®èŒƒå›´æˆ–æ ¼å¼é—®é¢˜
**è§£å†³**:
```bash
# ä½¿ç”¨éªŒè¯å·¥å…·æ£€æŸ¥æ•°æ®
cd source_all_platform
python verify_unpacked.py [16bit_file.raw]

# åœ¨ GUI ä¸­æŸ¥çœ‹å›¾åƒç»Ÿè®¡ä¿¡æ¯
# æ£€æŸ¥ Min/Max/Mean/Std å€¼æ˜¯å¦åˆç†
```

### Q4: è¿æ¥å¤±è´¥ "Connection refused"
**åŸå› **: ç½‘ç»œä¸é€šæˆ–æœåŠ¡å™¨æœªå¯åŠ¨
**è§£å†³**:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥: `ping 172.32.0.93`
2. ç¡®è®¤æœåŠ¡å™¨å·²å¯åŠ¨: åœ¨ Luckfox Pico ä¸Šè¿è¡Œ `./v4l2_usb`
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### Q5: å¸§ç‡å¾ˆä½æˆ–å¡é¡¿
**åŸå› **: ç½‘ç»œå¸¦å®½ä¸è¶³
**è§£å†³**:
1. ä½¿ç”¨åƒå…†ä»¥å¤ªç½‘
2. å‡å°‘ç½‘ç»œè´Ÿè½½
3. æ£€æŸ¥ç½‘ç»œè´¨é‡: `iperf3` æµ‹é€Ÿ

### Q6: "No such file or directory" é”™è¯¯
**åŸå› **: æ‘„åƒå¤´è®¾å¤‡æœªæ‰¾åˆ°
**è§£å†³**:
1. æ£€æŸ¥æ‘„åƒå¤´è¿æ¥: `ls /dev/video*`
2. ç¡®è®¤é©±åŠ¨åŠ è½½: `dmesg | grep -i video`
3. é‡æ–°æ’æ‹”æ‘„åƒå¤´

### Q7: ç¼–è¯‘é”™è¯¯
**è§£å†³**:
```bash
# ç¡®ä¿ä¾èµ–åº“å·²å®‰è£…
sudo apt update
sudo apt install build-essential cmake

# æ¸…ç†é‡æ–°ç¼–è¯‘
rm -rf build
mkdir build && cd build
cmake ..
make
```

### Q8: Windows ç¼–è¯‘é—®é¢˜
**è§£å†³**:
1. å®‰è£… MinGW-w64
2. ç¡®ä¿ `gcc` åœ¨ PATH ä¸­
3. ä½¿ç”¨ `build_windows.bat` è‡ªåŠ¨ç¼–è¯‘

### Q9: ç¨‹åºæ— æ³•æ­£å¸¸é€€å‡º
**è§£å†³**: ä½¿ç”¨ `Ctrl+C` å‘é€ SIGINT ä¿¡å·ï¼Œç¨‹åºä¼šä¼˜é›…é€€å‡ºå¹¶æ¸…ç†èµ„æº

## ğŸ” è°ƒè¯•ä¸ç›‘æ§

### æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
```bash
# æœåŠ¡å™¨ç«¯ä¼šæ˜¾ç¤º:
# - å®¢æˆ·ç«¯è¿æ¥çŠ¶æ€
# - å®æ—¶å¸§ç‡ç»Ÿè®¡
# - ç½‘ç»œä¼ è¾“é€Ÿåº¦

# å®¢æˆ·ç«¯ä¼šæ˜¾ç¤º:
# - æ¥æ”¶å¸§æ•°ç»Ÿè®¡
# - ä¿å­˜æ–‡ä»¶è·¯å¾„
# - ä¼ è¾“é€Ÿåº¦
```

### æ€§èƒ½ç›‘æ§
```bash
# ç½‘ç»œæµé‡ç›‘æ§
iftop -i eth0

# ç³»ç»Ÿèµ„æºç›‘æ§
htop

# ç£ç›˜ä½¿ç”¨ç›‘æ§ (å¦‚æœä¿å­˜æ–‡ä»¶)
df -h
```

## âš™ï¸ æ„å»ºç³»ç»Ÿè¯´æ˜

### è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹
```bash
# PC ç«¯: æ„å»ºæ‰€æœ‰å¹³å° â†’ æ‰“åŒ…å‘å¸ƒ
cd source_all_platform
./build_all_platforms.sh    # æ„å»º Linux/Windows/macOS
./create_release.sh         # æ‰“åŒ…æ‰€æœ‰å¹³å°

# åµŒå…¥å¼ç«¯: æ„å»º ARM â†’ æ‰“åŒ…å‘å¸ƒ  
cd source_linux_armv7l
mkdir build && cd build && cmake .. && make  # æ„å»º ARM
cd .. && ./create_release.sh                 # æ‰“åŒ…åµŒå…¥å¼
```

### CMake å·¥å…·é“¾è¯´æ˜
- `toolchains/windows_x86_64.cmake`: Windows äº¤å‰ç¼–è¯‘
- `toolchains/macos_arm64.cmake`: macOS ARM64 äº¤å‰ç¼–è¯‘
- åŸç”Ÿå¹³å°ç›´æ¥ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å·¥å…·é“¾

### å‘å¸ƒåŒ…è‡ªåŠ¨åŒ–
- **ç‰ˆæœ¬æ§åˆ¶**: ç»Ÿä¸€ç‰ˆæœ¬å·ç®¡ç† (v2.0.0)
- **å¹³å°è¯†åˆ«**: è‡ªåŠ¨æ£€æµ‹å¹¶ç”Ÿæˆå¯¹åº”å¹³å°åŒ…
- **å‹ç¼©æ ¼å¼**: Windows ç”¨ ZIPï¼Œå…¶ä»–ç”¨ TAR.GZ
- **æ–‡æ¡£ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆ README.md å’Œ USAGE.txt

## ğŸ“ˆ æŠ€æœ¯ç»†èŠ‚

### V4L2 å¤šå¹³é¢ API
- ä½¿ç”¨ `VIDIOC_S_FMT` è®¾ç½®å¤šå¹³é¢æ ¼å¼
- 256å­—èŠ‚å†…å­˜å¯¹é½ä¼˜åŒ–
- é›¶æ‹·è´å†…å­˜æ˜ å°„

### ç½‘ç»œä¼ è¾“ä¼˜åŒ–
- TCP åè®®ç¡®ä¿æ•°æ®å®Œæ•´æ€§
- å¤šçº¿ç¨‹å¼‚æ­¥ä¼ è¾“
- å®¢æˆ·ç«¯æ–­å¼€è‡ªåŠ¨é‡è¿

### ä¿¡å·å¤„ç†
- å®Œå–„çš„ SIGINT/SIGTERM å¤„ç†
- çº¿ç¨‹å®‰å…¨çš„é€€å‡ºæœºåˆ¶
- èµ„æºè‡ªåŠ¨æ¸…ç†

## ğŸ¤ è´¡çŒ®ä¸æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ– Pull Requestã€‚

### å¼€å‘ç¯å¢ƒ
- **åµŒå…¥å¼**: Luckfox Pico SDK + GCC ARM äº¤å‰ç¼–è¯‘å™¨
- **PC è·¨å¹³å°**: CMake + å¤šå·¥å…·é“¾æ”¯æŒ
  - Linux: GCC
  - Windows: MinGW-w64 äº¤å‰ç¼–è¯‘  
  - macOS: Clang (Apple Silicon)

## ğŸš€ ç‰ˆæœ¬å†å²

### v2.0.0 (å½“å‰ç‰ˆæœ¬)
- âœ… **å…¨é¢é‡æ„**: ä»£ç æ¨¡å—åŒ–ï¼Œæ˜“äºç»´æŠ¤
- âœ… **è·¨å¹³å°æ”¯æŒ**: Windowsã€Linuxã€macOSã€ARM Linux
- âœ… **Python GUI**: PySide6 å›¾å½¢ç•Œé¢ï¼Œ16-bit RAW å›¾åƒå®æ—¶æ˜¾ç¤º
- âœ… **å›¾åƒå¤„ç†**: SBGGR10â†’16bit è½¬æ¢ï¼Œè‡ªåŠ¨å¯¹æ¯”åº¦ï¼Œä¼ªå½©è‰²æ˜ å°„
- âœ… **æ€§èƒ½ä¼˜åŒ–**: å¤šçº¿ç¨‹è§£åŒ…ï¼ŒSIMD åŠ é€Ÿï¼Œå†…å­˜æ± ç®¡ç†
- âœ… **è‡ªåŠ¨åŒ–æ„å»º**: ä¸€é”®ç¼–è¯‘ã€æ‰“åŒ…ã€å‘å¸ƒ
- âœ… **å³å¼€å³ç”¨**: é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶
- âœ… **åŒæ¨¡å¼è¿è¡Œ**: å‘½ä»¤è¡Œæ‰¹å¤„ç† + GUI å®æ—¶æŸ¥çœ‹
- âœ… **å®Œå–„æ–‡æ¡£**: è¯¦ç»†ä½¿ç”¨è¯´æ˜å’Œæ•…éšœæ’é™¤

### v1.0.0 (ä¼ ç»Ÿç‰ˆæœ¬)
- âœ… åŸºæœ¬çš„ V4L2 å›¾åƒé‡‡é›†
- âœ… TCP ç½‘ç»œä¼ è¾“
- âœ… å¤šå¹³é¢ API æ”¯æŒ

---

**ğŸ“ ç‰ˆæœ¬**: v2.0.0  
**ğŸ·ï¸ æ ‡ç­¾**: V4L2, RAW10, ç½‘ç»œæ¨æµ, åµŒå…¥å¼, è·¨å¹³å°, Python GUI, 16-bit å›¾åƒå¤„ç†  
**ğŸ“… æ›´æ–°**: 2025å¹´6æœˆæœ€æ–°ç‰ˆæœ¬  
**ğŸ”— æ¶æ„**: æ¨¡å—åŒ– â€¢ è‡ªåŠ¨åŒ– â€¢ å³å¼€å³ç”¨ â€¢ å›¾å½¢ç•Œé¢
